{% extends 'base.html' %}

{% block content %}
<div class="container">
    <h1 class="mb-4">Website-Konfiguration bearbeiten</h1>
    
    <form method="POST" action="{{ url_for('config.edit_config') }}">
        <div class="card mb-4">
            <div class="card-header">
                <h5 class="mb-0">Website-Einstellungen</h5>
            </div>
            <div class="card-body">
                <div class="mb-3">
                    <label for="website_name" class="form-label">Website-Name (Navigation)</label>
                    <input type="text" class="form-control" id="website_name" name="website_name" 
                           value="{{ config.website.name }}" required>
                    <div class="form-text">Der Name, der in der Navigationsleiste angezeigt wird.</div>
                </div>
                
                <div class="mb-3">
                    <label for="website_title" class="form-label">Website-Titel (Browser-Tab)</label>
                    <input type="text" class="form-control" id="website_title" name="website_title" 
                           value="{{ config.website.title }}" required>
                    <div class="form-text">Der Titel, der im Browser-Tab angezeigt wird.</div>
                </div>
                
                <div class="mb-3">
                    <label for="website_description" class="form-label">Website-Beschreibung</label>
                    <textarea class="form-control" id="website_description" name="website_description" 
                              rows="3">{{ config.website.description }}</textarea>
                    <div class="form-text">Eine kurze Beschreibung der Website (für SEO).</div>
                </div>
                
                <div class="mb-3">
                    <label for="website_welcome_heading" class="form-label">Willkommens-Überschrift</label>
                    <input type="text" class="form-control" id="website_welcome_heading" name="website_welcome_heading" 
                           value="{{ config.website.welcome_heading }}" required>
                    <div class="form-text">Die Überschrift auf der Startseite für nicht angemeldete Benutzer.</div>
                </div>
                
                <div class="mb-3">
                    <label for="website_welcome_text" class="form-label">Willkommens-Text</label>
                    <textarea class="form-control" id="website_welcome_text" name="website_welcome_text" 
                              rows="2">{{ config.website.welcome_text }}</textarea>
                    <div class="form-text">Der Text unter der Überschrift auf der Startseite.</div>
                </div>
            </div>
        </div>
        
        <div class="card mb-4">
            <div class="card-header">
                <h5 class="mb-0">Kontaktinformationen</h5>
            </div>
            <div class="card-body">
                <div class="mb-3">
                    <label for="contact_email" class="form-label">Kontakt-E-Mail</label>
                    <input type="email" class="form-control" id="contact_email" name="contact_email" 
                           value="{{ config.contact.email }}">
                </div>
                
                <div class="mb-3">
                    <label for="contact_phone" class="form-label">Kontakt-Telefon</label>
                    <input type="text" class="form-control" id="contact_phone" name="contact_phone" 
                           value="{{ config.contact.phone }}">
                </div>
            </div>
        </div>
        
        <div class="card mb-4">
            <div class="card-header">
                <h5 class="mb-0">Erscheinungsbild</h5>
            </div>
            <div class="card-body">
                <div class="mb-3">
                    <label for="logo_icon" class="form-label">Logo-Icon</label>
                    <input type="text" class="form-control" id="logo_icon" name="logo_icon" 
                           value="{{ config.appearance.logo_icon }}" required>
                    <div class="form-text">Bootstrap-Icon-Klasse (z.B. bi-calendar-event). 
                        <a href="https://icons.getbootstrap.com/" target="_blank">Verfügbare Icons anzeigen</a>
                    </div>
                </div>
                
                <div class="mb-3">
                    <label for="primary_color" class="form-label">Primäre Farbe</label>
                    <input type="color" class="form-control form-control-color" id="primary_color" name="primary_color" 
                           value="{{ config.appearance.primary_color }}" title="Primäre Farbe auswählen">
                </div>
                
                <div class="mb-3">
                    <label for="secondary_color" class="form-label">Sekundäre Farbe</label>
                    <input type="color" class="form-control form-control-color" id="secondary_color" name="secondary_color" 
                           value="{{ config.appearance.secondary_color }}" title="Sekundäre Farbe auswählen">
                </div>
            </div>
        </div>
        
        <div class="d-grid gap-2 d-md-flex justify-content-md-end">
            <a href="{{ url_for('main.index') }}" class="btn btn-secondary me-md-2">Abbrechen</a>
            <button type="submit" class="btn btn-primary">Konfiguration speichern</button>
        </div>
    </form>
    
    <div class="mt-4">
        <div class="alert alert-info">
            <h5>Hinweis zur Konfiguration</h5>
            <p>Die Konfiguration wird automatisch neu geladen, wenn Sie Änderungen speichern. 
               Falls Sie die Konfigurationsdatei manuell bearbeitet haben, können Sie die Konfiguration 
               ohne Neustart des Servers neu laden.</p>
            <a href="{{ url_for('config.reload_configuration') }}" class="btn btn-outline-primary">
                <i class="bi bi-arrow-clockwise"></i> Konfiguration neu laden
            </a>
        </div>
    </div>
</div>
{% endblock %}
